# s3-persistence-chart

![Version: 1.0.0](https://img.shields.io/badge/Version-1.0.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 1.0.0](https://img.shields.io/badge/AppVersion-1.0.0-informational?style=flat-square)

A Helm chart for deploying a self hosted s3 provider on Kubernetes including backups using k8up

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| k8up | object | `{"backup_name":"","backup_type":"s3","local":{"mountPath":""},"podSecurityContext":{"runAsUser":0},"prometheus_url":"","repoPasswordSecretRef":{"key":"","name":""},"s3":{"accessKeyIDSecretRef":{"key":"","name":"","optional":false},"bucket":"","endpoint":"","secretAccessKeySecretRef":{"key":"","name":"","optional":false}},"schedules":{"backup":"","check":"","prune":""}}` | for enabling backups to a remote s3 provider or local disk backup |
| k8up.backup_type | string | `"s3"` | can be set to 's3' or 'local' |
| k8up.podSecurityContext | object | `{"runAsUser":0}` | user to run the backups as |
| k8up.prometheus_url | string | `""` | url to push to for prometheus gateway |
| k8up.repoPasswordSecretRef | object | `{"key":"","name":""}` | secret for your restic repo |
| k8up.repoPasswordSecretRef.key | string | `""` | key in secret to use for repo password |
| k8up.repoPasswordSecretRef.name | string | `""` | name of the secret to use |
| k8up.s3.accessKeyIDSecretRef.key | string | `""` | key in the secret to use for access key id |
| k8up.s3.accessKeyIDSecretRef.name | string | `""` | name of the secret to use |
| k8up.s3.bucket | string | `""` | s3 bucket to backup to |
| k8up.s3.endpoint | string | `""` | s3 endpoint to backup to |
| k8up.s3.secretAccessKeySecretRef.key | string | `""` | key in the secret to use for secret access key |
| k8up.s3.secretAccessKeySecretRef.name | string | `""` | name of the secret to use |
| k8up.schedules | object | `{"backup":"","check":"","prune":""}` | schedules for backups, checks, and prunes |
| provider | string | `"seaweedfs"` | provider must be set to minio or seaweedfs |
| pvc_capacity | string | `"10Gi"` |  |
| pvc_storageClassName | string | `"local-path"` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.13.1](https://github.com/norwoodj/helm-docs/releases/v1.13.1)
